(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{GCp2:function(t,e,i){"use strict";i.r(e),i.d(e,"AdminComponentsModule",function(){return Tt}),i("yLV6");var n=i("tyNb"),a=i("tk/3"),c=i("ofXK"),o=i("j5wd"),b=i("bniB"),s=i("3Pt+"),d=i("YUcS"),r=i("tmTa"),l=i("IJq4"),h=i("Xfsy"),u=i("sCmA"),m=i("R3tS"),g=i("fXoL");let f=(()=>{class t{constructor(){this.currentPage={length:0,pageIndex:0,pageSize:10},this.pageSizeOptions=[10,20,30,50,100,200,500]}ngOnInit(){this.paginator.page.subscribe(t=>{this.currentPage.pageIndex=t.pageIndex,this.currentPage.pageSize=t.pageSize})}getServerData(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Fb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var i;1&t&&(g.Cc(m.a,!0),g.uc(u.a,!0)),2&t&&(g.nc(i=g.ac())&&(e.sort=i.first),g.nc(i=g.ac())&&(e.paginator=i.first))},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var p=i("0DX0"),R=i("IRfi"),Q=i("TY1r"),w=i("A2Vd"),D=i("2+6u"),v=i("Xlwt"),x=i("MSSf"),y=i("j14s");function M(t,e){1&t&&(g.Rb(0,"th",28),g.xc(1,"\u55ae\u5b57"),g.Qb())}function C(t,e){if(1&t){const t=g.Sb();g.Rb(0,"td",29),g.Zb("click",function(){g.qc(t);const i=e.$implicit;return g.dc().edit(i)}),g.xc(1),g.Qb()}if(2&t){const t=e.$implicit;g.zb(1),g.yc(t.word)}}function k(t,e){1&t&&(g.Rb(0,"th",28),g.xc(1,"\u8a5e\u6027"),g.Qb())}function z(t,e){if(1&t&&(g.Rb(0,"td",30),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.speech)}}function S(t,e){1&t&&(g.Rb(0,"th",28),g.xc(1,"\u7b49\u7d1a"),g.Qb())}function Z(t,e){if(1&t&&(g.Rb(0,"td",30),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.level)}}function q(t,e){1&t&&(g.Rb(0,"th",28),g.xc(1,"\u8ab2\u7a0b"),g.Qb())}function B(t,e){if(1&t&&(g.Rb(0,"td",30),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.lesson)}}function O(t,e){1&t&&(g.Rb(0,"th",28),g.xc(1,"\u64cd\u4f5c"),g.Qb())}function I(t,e){if(1&t){const t=g.Sb();g.Rb(0,"td",29),g.Zb("click",function(){g.qc(t);const i=e.$implicit;return g.dc().deleteAction(i.word)}),g.xc(1,"\u522a\u9664"),g.Qb()}}function L(t,e){1&t&&g.Mb(0,"tr",31)}function P(t,e){1&t&&g.Mb(0,"tr",32)}function $(t,e){1&t&&(g.Rb(0,"tr",33),g.Rb(1,"td",34),g.xc(2,"\u67e5\u7121\u8cc7\u6599"),g.Qb(),g.Qb())}function A(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",35),g.Rb(1,"mat-card-title"),g.xc(2,"\u522a\u9664\u55ae\u5b57"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"Delete Word"),g.Qb(),g.Rb(5,"div"),g.Rb(6,"div",36),g.xc(7,"\u78ba\u5b9a\u522a\u9664"),g.Rb(8,"span",37),g.xc(9),g.Qb(),g.xc(10,"?"),g.Qb(),g.Rb(11,"div",38),g.Rb(12,"button",11),g.Zb("click",function(){return g.qc(t),g.dc().delete()}),g.xc(13,"\u522a\u9664"),g.Qb(),g.Rb(14,"button",39),g.Zb("click",function(){return g.qc(t),g.dc().new()}),g.xc(15,"\u53d6\u6d88"),g.Qb(),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.yc(t.actionWord)}}function E(t,e){if(1&t&&(g.Rb(0,"mat-option",53),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.ic("value",t),g.zb(1),g.yc(t)}}function W(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",35),g.Rb(1,"mat-card-title"),g.xc(2,"\u65b0\u589e\u55ae\u5b57"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"New Words"),g.Qb(),g.Rb(5,"div",40),g.Rb(6,"mat-form-field",41),g.Rb(7,"mat-label"),g.xc(8,"\u55ae\u5b57"),g.Qb(),g.Rb(9,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().word=e}),g.Qb(),g.Qb(),g.Rb(10,"mat-form-field",41),g.Rb(11,"mat-label"),g.xc(12,"\u4e2d\u6587"),g.Qb(),g.Rb(13,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().chinese=e}),g.Qb(),g.Qb(),g.Rb(14,"mat-form-field",41),g.Rb(15,"mat-label"),g.xc(16,"\u8a5e\u6027"),g.Qb(),g.Rb(17,"mat-select",43),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().speech=e}),g.Rb(18,"mat-option",44),g.xc(19,"n \u540d\u8a5e"),g.Qb(),g.Rb(20,"mat-option",45),g.xc(21,"v \u52d5\u8a5e"),g.Qb(),g.Rb(22,"mat-option",46),g.xc(23,"adj \u5f62\u5bb9\u8a5e"),g.Qb(),g.Rb(24,"mat-option",47),g.xc(25,"adv \u526f\u8a5e"),g.Qb(),g.Rb(26,"mat-option",48),g.xc(27,"prep \u4ecb\u4fc2\u8a5e"),g.Qb(),g.Rb(28,"mat-option",49),g.xc(29,"pron \u4ee3\u540d\u8a5e"),g.Qb(),g.Rb(30,"mat-option",50),g.xc(31,"conj \u9023\u63a5\u8a5e"),g.Qb(),g.Rb(32,"mat-option",51),g.xc(33,"int \u611f\u6b4e\u8a5e"),g.Qb(),g.Qb(),g.Qb(),g.Rb(34,"mat-form-field",41),g.Rb(35,"mat-label"),g.xc(36,"\u82f1\u6587\u53e5\u5b50"),g.Qb(),g.Rb(37,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().sentence=e}),g.Qb(),g.Qb(),g.Rb(38,"mat-form-field",41),g.Rb(39,"mat-label"),g.xc(40,"\u4e2d\u6587\u53e5\u5b50"),g.Qb(),g.Rb(41,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().sentenceChinese=e}),g.Qb(),g.Qb(),g.Rb(42,"mat-form-field",41),g.Rb(43,"mat-label"),g.xc(44,"\u7247\u8a9e"),g.Qb(),g.Rb(45,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().phrase=e}),g.Qb(),g.Qb(),g.Rb(46,"mat-form-field",41),g.Rb(47,"mat-label"),g.xc(48,"\u884d\u751f\u8a5e"),g.Qb(),g.Rb(49,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().derivative=e}),g.Qb(),g.Qb(),g.Rb(50,"mat-form-field",41),g.Rb(51,"mat-label"),g.xc(52,"\u76f8\u4f3c\u8a5e"),g.Qb(),g.Rb(53,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().synonym=e}),g.Qb(),g.Qb(),g.Rb(54,"mat-form-field",41),g.Rb(55,"mat-label"),g.xc(56,"\u76f8\u53cd\u8a5e"),g.Qb(),g.Rb(57,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().antonym=e}),g.Qb(),g.Qb(),g.Rb(58,"mat-form-field",41),g.Rb(59,"mat-label"),g.xc(60,"\u5099\u8a3b1"),g.Qb(),g.Rb(61,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().note=e}),g.Qb(),g.Qb(),g.Rb(62,"mat-form-field",41),g.Rb(63,"mat-label"),g.xc(64,"\u5099\u8a3b2"),g.Qb(),g.Rb(65,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().note2=e}),g.Qb(),g.Qb(),g.Rb(66,"mat-form-field",41),g.Rb(67,"mat-label"),g.xc(68,"\u8ab2\u7a0b"),g.Qb(),g.Rb(69,"mat-select",43),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().lesson=e}),g.wc(70,E,2,2,"mat-option",52),g.Qb(),g.Qb(),g.Rb(71,"mat-form-field",41),g.Rb(72,"mat-label"),g.xc(73,"\u7b49\u7d1a"),g.Qb(),g.Rb(74,"mat-select",43),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().level=e}),g.Rb(75,"mat-option",6),g.xc(76,"orange"),g.Qb(),g.Rb(77,"mat-option",7),g.xc(78,"brown"),g.Qb(),g.Rb(79,"mat-option",8),g.xc(80,"green"),g.Qb(),g.Rb(81,"mat-option",9),g.xc(82,"blue"),g.Qb(),g.Rb(83,"mat-option",10),g.xc(84,"gold"),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Rb(85,"div",38),g.Rb(86,"button",11),g.Zb("click",function(){return g.qc(t),g.dc().post()}),g.xc(87,"\u63d0\u4ea4"),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.ic("ngModel",t.word),g.zb(4),g.ic("ngModel",t.chinese),g.zb(4),g.ic("ngModel",t.speech),g.zb(20),g.ic("ngModel",t.sentence),g.zb(4),g.ic("ngModel",t.sentenceChinese),g.zb(4),g.ic("ngModel",t.phrase),g.zb(4),g.ic("ngModel",t.derivative),g.zb(4),g.ic("ngModel",t.synonym),g.zb(4),g.ic("ngModel",t.antonym),g.zb(4),g.ic("ngModel",t.note),g.zb(4),g.ic("ngModel",t.note2),g.zb(4),g.ic("ngModel",t.lesson),g.zb(1),g.ic("ngForOf",t.arr),g.zb(4),g.ic("ngModel",t.level)}}function F(t,e){if(1&t&&(g.Rb(0,"mat-option",53),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.ic("value",t),g.zb(1),g.yc(t)}}function _(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",35),g.Rb(1,"mat-card-title"),g.xc(2,"\u7de8\u8f2f\u55ae\u5b57"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"Edit Words"),g.Qb(),g.Rb(5,"div",40),g.Rb(6,"mat-form-field",41),g.Rb(7,"mat-label"),g.xc(8,"\u55ae\u5b57"),g.Qb(),g.Rb(9,"input",54),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.word=e}),g.Qb(),g.Qb(),g.Rb(10,"mat-form-field",41),g.Rb(11,"mat-label"),g.xc(12,"\u4e2d\u6587"),g.Qb(),g.Rb(13,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.chinese=e}),g.Qb(),g.Qb(),g.Rb(14,"mat-form-field",41),g.Rb(15,"mat-label"),g.xc(16,"\u8a5e\u6027"),g.Qb(),g.Rb(17,"mat-select",43),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.speech=e}),g.Rb(18,"mat-option",44),g.xc(19,"n \u540d\u8a5e"),g.Qb(),g.Rb(20,"mat-option",45),g.xc(21,"v \u52d5\u8a5e"),g.Qb(),g.Rb(22,"mat-option",46),g.xc(23,"adj \u5f62\u5bb9\u8a5e"),g.Qb(),g.Rb(24,"mat-option",47),g.xc(25,"adv \u526f\u8a5e"),g.Qb(),g.Rb(26,"mat-option",48),g.xc(27,"prep \u4ecb\u4fc2\u8a5e"),g.Qb(),g.Rb(28,"mat-option",49),g.xc(29,"pron \u4ee3\u540d\u8a5e"),g.Qb(),g.Rb(30,"mat-option",50),g.xc(31,"conj \u9023\u63a5\u8a5e"),g.Qb(),g.Rb(32,"mat-option",51),g.xc(33,"int \u611f\u6b4e\u8a5e"),g.Qb(),g.Qb(),g.Qb(),g.Rb(34,"mat-form-field",41),g.Rb(35,"mat-label"),g.xc(36,"\u82f1\u6587\u53e5\u5b50"),g.Qb(),g.Rb(37,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.sentence=e}),g.Qb(),g.Qb(),g.Rb(38,"mat-form-field",41),g.Rb(39,"mat-label"),g.xc(40,"\u4e2d\u6587\u53e5\u5b50"),g.Qb(),g.Rb(41,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.sentenceChinese=e}),g.Qb(),g.Qb(),g.Rb(42,"mat-form-field",41),g.Rb(43,"mat-label"),g.xc(44,"\u7247\u8a9e"),g.Qb(),g.Rb(45,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.phrase=e}),g.Qb(),g.Qb(),g.Rb(46,"mat-form-field",41),g.Rb(47,"mat-label"),g.xc(48,"\u884d\u751f\u8a5e"),g.Qb(),g.Rb(49,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.derivative=e}),g.Qb(),g.Qb(),g.Rb(50,"mat-form-field",41),g.Rb(51,"mat-label"),g.xc(52,"\u76f8\u4f3c\u8a5e"),g.Qb(),g.Rb(53,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.synonym=e}),g.Qb(),g.Qb(),g.Rb(54,"mat-form-field",41),g.Rb(55,"mat-label"),g.xc(56,"\u76f8\u53cd\u8a5e"),g.Qb(),g.Rb(57,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.antonym=e}),g.Qb(),g.Qb(),g.Rb(58,"mat-form-field",41),g.Rb(59,"mat-label"),g.xc(60,"\u5099\u8a3b1"),g.Qb(),g.Rb(61,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.note=e}),g.Qb(),g.Qb(),g.Rb(62,"mat-form-field",41),g.Rb(63,"mat-label"),g.xc(64,"\u5099\u8a3b2"),g.Qb(),g.Rb(65,"input",42),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.note2=e}),g.Qb(),g.Qb(),g.Rb(66,"mat-form-field",41),g.Rb(67,"mat-label"),g.xc(68,"\u8ab2\u7a0b"),g.Qb(),g.Rb(69,"mat-select",43),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.lesson=e}),g.wc(70,F,2,2,"mat-option",52),g.Qb(),g.Qb(),g.Rb(71,"mat-form-field",41),g.Rb(72,"mat-label"),g.xc(73,"\u7b49\u7d1a"),g.Qb(),g.Rb(74,"mat-select",43),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.level=e}),g.Rb(75,"mat-option",6),g.xc(76,"orange"),g.Qb(),g.Rb(77,"mat-option",7),g.xc(78,"brown"),g.Qb(),g.Rb(79,"mat-option",8),g.xc(80,"green"),g.Qb(),g.Rb(81,"mat-option",9),g.xc(82,"blue"),g.Qb(),g.Rb(83,"mat-option",10),g.xc(84,"gold"),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Rb(85,"div",38),g.Rb(86,"button",11),g.Zb("click",function(){return g.qc(t),g.dc().put()}),g.xc(87,"\u63d0\u4ea4"),g.Qb(),g.Rb(88,"button",39),g.Zb("click",function(){return g.qc(t),g.dc().new()}),g.xc(89,"\u53d6\u6d88"),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.ic("ngModel",t.editData.word),g.zb(4),g.ic("ngModel",t.editData.chinese),g.zb(4),g.ic("ngModel",t.editData.speech),g.zb(20),g.ic("ngModel",t.editData.sentence),g.zb(4),g.ic("ngModel",t.editData.sentenceChinese),g.zb(4),g.ic("ngModel",t.editData.phrase),g.zb(4),g.ic("ngModel",t.editData.derivative),g.zb(4),g.ic("ngModel",t.editData.synonym),g.zb(4),g.ic("ngModel",t.editData.antonym),g.zb(4),g.ic("ngModel",t.editData.note),g.zb(4),g.ic("ngModel",t.editData.note2),g.zb(4),g.ic("ngModel",t.editData.lesson),g.zb(1),g.ic("ngForOf",t.arr),g.zb(4),g.ic("ngModel",t.editData.level)}}let j=(()=>{class t extends f{constructor(t,e,i,n){super(),this.wordService=t,this.snackBar=e,this.store=i,this.router=n,this.type="add",this.filterLevel="orange",this.speech="n",this.level="orange",this.lesson=1,this.arr=[],this.loading=!1,this.displayedColumns=["word","speech","level","lesson","action"],this.arr=Array.from({length:50},(t,e)=>e+1)}ngOnInit(){this.store.getUser().then(()=>{(this.store&&!this.store.user||this.store.user&&"admin"!==this.store.user.level)&&(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589"))}),this.store.token||(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589")),this.getServerData(),super.ngOnInit()}applyFilter(){this.getServerData(),this.paginator.firstPage()}clearFilter(){this.filterWord="",this.getServerData()}edit(t){this.editData=Object.assign({},t),this.type="edit"}new(){this.type="add"}put(){if(this.loading=!0,this.editData)return this.editData.word&&this.editData.chinese&&this.editData.speech&&this.editData.sentence&&this.editData.sentenceChinese?void this.wordService.put(this.editData.word,{word:this.editData.word,chinese:this.editData.chinese,speech:this.editData.speech,sentence:this.editData.sentence,sentenceChinese:this.editData.sentenceChinese,phrase:this.editData.phrase,derivative:this.editData.derivative,synonym:this.editData.synonym,antonym:this.editData.antonym,note:this.editData.note,note2:this.editData.note2,level:this.editData.level,lesson:this.editData.lesson}).subscribe(t=>{200===t.status?(this.getServerData(),this.snackBar.open("\u7de8\u8f2f\u6210\u529f","\u95dc\u9589"),this.type="add",this.loading=!1):(this.snackBar.open("\u7de8\u8f2f\u5931\u6557","\u95dc\u9589"),this.loading=!1)}):(this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589"),void(this.loading=!1))}getServerData(){this.loading=!0;const t=new a.c({fromObject:{level:this.filterLevel,word:this.filterWord?this.filterWord:""}});this.wordService.get(t).subscribe(t=>{null!==t.body&&null!==t.headers?(this.paginator._intl.itemsPerPageLabel="\u6bcf\u9801\u500b\u6578:",this.currentPage.length=t.body.totalSize,this.ELEMENT_DATA=t.body.data,this.dataSource=new r.k(this.ELEMENT_DATA),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.loading=!1):this.snackBar.open("\u7372\u53d6\u529f\u80fd\u8cc7\u6599\u5931\u6557","\u95dc\u9589")})}deleteAction(t){this.type="delete",this.actionWord=t}delete(){this.loading=!0,this.wordService.delete(this.actionWord||"").subscribe(t=>{null!==t.body&&null!==t.headers?(this.getServerData(),this.snackBar.open("\u522a\u9664\u6210\u529f","\u95dc\u9589"),this.type="add",this.loading=!1):this.snackBar.open("\u7372\u53d6\u529f\u80fd\u8cc7\u6599\u5931\u6557","\u95dc\u9589")})}reset(){this.word="",this.chinese="",this.speech="n",this.sentence="",this.sentenceChinese="",this.phrase="",this.derivative="",this.synonym="",this.antonym="",this.note="",this.note2=""}post(){this.loading=!0;const t={word:this.word,chinese:this.chinese,speech:this.speech,sentence:this.sentence,sentenceChinese:this.sentenceChinese,phrase:this.phrase,derivative:this.derivative,synonym:this.synonym,antonym:this.antonym,note:this.note,note2:this.note2,level:this.level,lesson:this.lesson};if(!(this.word&&this.chinese&&this.speech&&this.sentence&&this.sentenceChinese))return this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589"),void(this.loading=!1);this.wordService.post(t).subscribe(t=>{200===t.status?(this.getServerData(),this.snackBar.open("\u65b0\u589e\u6210\u529f","\u95dc\u9589"),this.reset(),this.loading=!1):(this.snackBar.open("\u65b0\u589e\u5931\u6557","\u95dc\u9589"),this.loading=!1)})}}return t.\u0275fac=function(e){return new(e||t)(g.Lb(l.a),g.Lb(p.b),g.Lb(h.a),g.Lb(n.f))},t.\u0275cmp=g.Fb({type:t,selectors:[["app-adminword"]],features:[g.wb],decls:56,vars:10,consts:[[1,"admin-outer"],[1,"model-body"],[1,"table-area"],[1,"search-area"],["placeholder","\u8acb\u8f38\u5165","matInput","",3,"ngModel","ngModelChange","keyup.enter"],[3,"ngModel","ngModelChange","selectionChange"],["value","orange"],["value","brown"],["value","green"],["value","blue"],["value","gold"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","","color","primary",3,"click"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","word"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","click-td",3,"click",4,"matCellDef"],["matColumnDef","speech"],["mat-cell","",4,"matCellDef"],["matColumnDef","level"],["matColumnDef","lesson"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"length","pageSizeOptions"],[1,"action-area"],["class","word-area",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"click-td",3,"click"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"word-area"],[1,"confirm-text"],[2,"color","orangered"],[1,"button-area"],["mat-raised-button","","color","warn",3,"click"],[1,"form-area"],["appearance","legacy"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","n"],["value","v"],["value","adj"],["value","adv"],["value","prep"],["value","pron"],["value","conj"],["value","int"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","disabled","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(g.Rb(0,"div",0),g.Rb(1,"div",1),g.Rb(2,"div",2),g.Rb(3,"div",3),g.Rb(4,"mat-form-field"),g.Rb(5,"mat-label"),g.Rb(6,"mat-icon"),g.xc(7,"search"),g.Qb(),g.Rb(8,"span"),g.xc(9,"\u55ae\u5b57"),g.Qb(),g.Qb(),g.Rb(10,"input",4),g.Zb("ngModelChange",function(t){return e.filterWord=t})("keyup.enter",function(){return e.applyFilter()}),g.Qb(),g.Qb(),g.Rb(11,"mat-form-field"),g.Rb(12,"mat-label"),g.Rb(13,"mat-icon"),g.xc(14,"search"),g.Qb(),g.Rb(15,"span"),g.xc(16,"\u7b49\u7d1a"),g.Qb(),g.Qb(),g.Rb(17,"mat-select",5),g.Zb("ngModelChange",function(t){return e.filterLevel=t})("selectionChange",function(){return e.applyFilter()}),g.Rb(18,"mat-option",6),g.xc(19,"\u6a58\u8272"),g.Qb(),g.Rb(20,"mat-option",7),g.xc(21,"\u68d5\u8272"),g.Qb(),g.Rb(22,"mat-option",8),g.xc(23,"\u7da0\u8272"),g.Qb(),g.Rb(24,"mat-option",9),g.xc(25,"\u85cd\u8272"),g.Qb(),g.Rb(26,"mat-option",10),g.xc(27,"\u91d1\u8272"),g.Qb(),g.Qb(),g.Qb(),g.Rb(28,"button",11),g.Zb("click",function(){return e.applyFilter()}),g.xc(29,"\u67e5\u8a62"),g.Qb(),g.Rb(30,"button",12),g.Zb("click",function(){return e.clearFilter()}),g.xc(31,"\u6e05\u7a7a"),g.Qb(),g.Qb(),g.Rb(32,"table",13),g.Pb(33,14),g.wc(34,M,2,0,"th",15),g.wc(35,C,2,1,"td",16),g.Ob(),g.Pb(36,17),g.wc(37,k,2,0,"th",15),g.wc(38,z,2,1,"td",18),g.Ob(),g.Pb(39,19),g.wc(40,S,2,0,"th",15),g.wc(41,Z,2,1,"td",18),g.Ob(),g.Pb(42,20),g.wc(43,q,2,0,"th",15),g.wc(44,B,2,1,"td",18),g.Ob(),g.Pb(45,21),g.wc(46,O,2,0,"th",15),g.wc(47,I,2,0,"td",16),g.Ob(),g.wc(48,L,1,0,"tr",22),g.wc(49,P,1,0,"tr",23),g.wc(50,$,3,0,"tr",24),g.Qb(),g.Mb(51,"mat-paginator",25),g.Qb(),g.Qb(),g.Rb(52,"div",26),g.wc(53,A,16,1,"div",27),g.wc(54,W,88,14,"div",27),g.wc(55,_,90,14,"div",27),g.Qb(),g.Qb()),2&t&&(g.zb(10),g.ic("ngModel",e.filterWord),g.zb(7),g.ic("ngModel",e.filterLevel),g.zb(15),g.ic("dataSource",e.dataSource),g.zb(16),g.ic("matHeaderRowDef",e.displayedColumns),g.zb(1),g.ic("matRowDefColumns",e.displayedColumns),g.zb(2),g.ic("length",e.currentPage.length)("pageSizeOptions",e.pageSizeOptions),g.zb(2),g.ic("ngIf","delete"===e.type),g.zb(1),g.ic("ngIf","add"===e.type),g.zb(1),g.ic("ngIf","edit"===e.type))},directives:[R.a,R.d,Q.a,w.b,s.b,s.h,s.j,D.a,y.o,v.a,r.j,m.a,r.c,r.e,r.b,r.g,r.i,u.a,c.k,r.d,m.b,r.a,r.f,r.h,x.g,x.f,c.j],styles:[""]}),t})();var T=i("E5Wy");function N(t,e){1&t&&(g.Rb(0,"th",17),g.xc(1,"\u82f1\u6587"),g.Qb())}function H(t,e){if(1&t){const t=g.Sb();g.Rb(0,"td",18),g.Zb("click",function(){g.qc(t);const i=e.$implicit;return g.dc().edit(i)}),g.xc(1),g.Qb()}if(2&t){const t=e.$implicit;g.zb(1),g.yc(t.english)}}function Y(t,e){1&t&&(g.Rb(0,"th",17),g.xc(1,"\u4e2d\u6587"),g.Qb())}function U(t,e){if(1&t&&(g.Rb(0,"td",19),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.chinese)}}function X(t,e){1&t&&(g.Rb(0,"th",17),g.xc(1,"\u6642\u9593"),g.Qb())}function J(t,e){if(1&t&&(g.Rb(0,"td",19),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.showDate)}}function V(t,e){1&t&&(g.Rb(0,"th",17),g.xc(1,"\u64cd\u4f5c"),g.Qb())}function G(t,e){if(1&t){const t=g.Sb();g.Rb(0,"td",18),g.Zb("click",function(){g.qc(t);const i=e.$implicit;return g.dc().deleteAction(i._id)}),g.xc(1,"\u522a\u9664"),g.Qb()}}function K(t,e){1&t&&g.Mb(0,"tr",20)}function tt(t,e){1&t&&g.Mb(0,"tr",21)}function et(t,e){1&t&&(g.Rb(0,"tr",22),g.Rb(1,"td",23),g.xc(2,"\u67e5\u7121\u8cc7\u6599"),g.Qb(),g.Qb())}function it(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",24),g.Rb(1,"mat-card-title"),g.xc(2,"\u522a\u9664\u53e5\u5b50"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"Delete Sentence"),g.Qb(),g.Rb(5,"div"),g.Rb(6,"div",25),g.xc(7,"\u78ba\u5b9a\u522a\u9664"),g.Mb(8,"span",26),g.xc(9,"?"),g.Qb(),g.Rb(10,"div",27),g.Rb(11,"button",28),g.Zb("click",function(){return g.qc(t),g.dc().delete()}),g.xc(12,"\u522a\u9664"),g.Qb(),g.Rb(13,"button",29),g.Zb("click",function(){return g.qc(t),g.dc().new()}),g.xc(14,"\u53d6\u6d88"),g.Qb(),g.Qb(),g.Qb(),g.Qb()}}function nt(t,e){if(1&t&&(g.Rb(0,"div"),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.Ac(" \u82f1\u6587:",t.english," \u4e2d\u6587:",t.chinese," \u8a5e\u6027:",t.speech," ")}}function at(t,e){if(1&t&&(g.Rb(0,"div"),g.xc(1," \u65b0\u589e\u55ae\u5b57"),g.wc(2,nt,2,3,"div",34),g.Qb()),2&t){const t=g.dc(2);g.zb(2),g.ic("ngForOf",t.addWords)}}function ct(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",24),g.Rb(1,"mat-card-title"),g.xc(2,"\u65b0\u589e\u53e5\u5b50"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"New Sentence"),g.Qb(),g.Rb(5,"div",30),g.Rb(6,"mat-form-field",31),g.Rb(7,"mat-label"),g.xc(8,"\u82f1\u6587"),g.Qb(),g.Rb(9,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().english=e}),g.Qb(),g.Qb(),g.Rb(10,"mat-form-field",31),g.Rb(11,"mat-label"),g.xc(12,"\u4e2d\u6587"),g.Qb(),g.Rb(13,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().chinese=e}),g.Qb(),g.Qb(),g.Rb(14,"mat-form-field",31),g.Rb(15,"mat-label"),g.xc(16,"\u6642\u9593"),g.Qb(),g.Rb(17,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().showDate=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(18,"div",30),g.Rb(19,"mat-form-field",31),g.Rb(20,"mat-label"),g.xc(21,"\u55ae\u5b57\u82f1\u6587"),g.Qb(),g.Rb(22,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().wordE=e}),g.Qb(),g.Qb(),g.Rb(23,"mat-form-field",31),g.Rb(24,"mat-label"),g.xc(25,"\u55ae\u5b57\u4e2d\u6587"),g.Qb(),g.Rb(26,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().wordC=e}),g.Qb(),g.Qb(),g.Rb(27,"mat-form-field",31),g.Rb(28,"mat-label"),g.xc(29,"\u55ae\u5b57\u97f3\u6a19"),g.Qb(),g.Rb(30,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().wordS=e}),g.Qb(),g.Qb(),g.Qb(),g.wc(31,at,3,1,"div",33),g.Rb(32,"div",27),g.Rb(33,"button",28),g.Zb("click",function(){return g.qc(t),g.dc().addWord()}),g.xc(34,"\u65b0\u589e\u55ae\u5b57"),g.Qb(),g.Rb(35,"button",28),g.Zb("click",function(){return g.qc(t),g.dc().post()}),g.xc(36,"\u63d0\u4ea4"),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.ic("ngModel",t.english),g.zb(4),g.ic("ngModel",t.chinese),g.zb(4),g.ic("ngModel",t.showDate),g.zb(5),g.ic("ngModel",t.wordE),g.zb(4),g.ic("ngModel",t.wordC),g.zb(4),g.ic("ngModel",t.wordS),g.zb(1),g.ic("ngIf",t.addWords.length)}}function ot(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",24),g.Rb(1,"mat-card-title"),g.xc(2,"\u7de8\u8f2f\u53e5\u5b50"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"Edit Sentence"),g.Qb(),g.Rb(5,"div",30),g.Rb(6,"mat-form-field",31),g.Rb(7,"mat-label"),g.xc(8,"\u82f1\u6587"),g.Qb(),g.Rb(9,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.english=e}),g.Qb(),g.Qb(),g.Rb(10,"mat-form-field",31),g.Rb(11,"mat-label"),g.xc(12,"\u4e2d\u6587"),g.Qb(),g.Rb(13,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.chinese=e}),g.Qb(),g.Qb(),g.Rb(14,"mat-form-field",31),g.Rb(15,"mat-label"),g.xc(16,"\u6642\u9593"),g.Qb(),g.Rb(17,"input",32),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.showDate=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(18,"div",27),g.Rb(19,"button",28),g.Zb("click",function(){return g.qc(t),g.dc().put()}),g.xc(20,"\u63d0\u4ea4"),g.Qb(),g.Rb(21,"button",29),g.Zb("click",function(){return g.qc(t),g.dc().new()}),g.xc(22,"\u53d6\u6d88"),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.ic("ngModel",t.editData.english),g.zb(4),g.ic("ngModel",t.editData.chinese),g.zb(4),g.ic("ngModel",t.editData.showDate)}}let bt=(()=>{class t extends f{constructor(t,e,i,n){super(),this.dailySentenceService=t,this.snackBar=e,this.store=i,this.router=n,this.type="add",this.loading=!1,this.addWords=[],this.displayedColumns=["english","chinese","showDate","action"]}ngOnInit(){this.store.getUser().then(()=>{(this.store&&!this.store.user||this.store.user&&"admin"!==this.store.user.level)&&(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589"))}),this.store.token||(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589")),this.showDate=`${(new Date).getFullYear()}/${(new Date).getMonth()+1}/${(new Date).getDate()}`,this.getServerData(),super.ngOnInit()}edit(t){this.editData=Object.assign({},t),this.type="edit"}addWord(){this.wordE&&this.wordC&&this.wordS?(this.addWords.push({word:this.wordE,chinese:this.wordC,speech:this.wordS}),this.wordE="",this.wordC="",this.wordS="",this.snackBar.open("\u65b0\u589e\u6210\u529f","\u95dc\u9589")):this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589")}new(){this.type="add"}put(){if(this.loading=!0,this.editData)return this.editData.english&&this.editData.chinese&&this.editData._id?void this.dailySentenceService.put(this.editData._id,{english:this.editData.english,chinese:this.editData.chinese,words:this.editData.words,showDate:this.editData.showDate}).subscribe(t=>{200===t.status?(this.getServerData(),this.snackBar.open("\u7de8\u8f2f\u6210\u529f","\u95dc\u9589"),this.type="add",this.loading=!1):(this.snackBar.open("\u7de8\u8f2f\u5931\u6557","\u95dc\u9589"),this.loading=!1)}):(this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589"),void(this.loading=!1))}getServerData(){this.loading=!0,this.dailySentenceService.getAll().subscribe(t=>{null!==t.body&&null!==t.headers?(this.paginator._intl.itemsPerPageLabel="\u6bcf\u9801\u500b\u6578:",this.currentPage.length=t.body.totalSize,this.ELEMENT_DATA=t.body.data,this.dataSource=new r.k(this.ELEMENT_DATA),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.loading=!1):this.snackBar.open("\u7372\u53d6\u529f\u80fd\u8cc7\u6599\u5931\u6557","\u95dc\u9589")})}deleteAction(t){this.type="delete",this.actionId=t}delete(){this.loading=!0,this.dailySentenceService.delete(this.actionId||"").subscribe(t=>{null!==t.body&&null!==t.headers?(this.getServerData(),this.snackBar.open("\u522a\u9664\u6210\u529f","\u95dc\u9589"),this.type="add",this.loading=!1):this.snackBar.open("\u7372\u53d6\u529f\u80fd\u8cc7\u6599\u5931\u6557","\u95dc\u9589")})}reset(){this.english="",this.chinese="",this.wordC="",this.wordE="",this.wordS="",this.addWords=[],this.showDate=`${(new Date).getFullYear()}/${(new Date).getMonth()+1}/${(new Date).getDate()}`}post(){this.loading=!0;const t={english:this.english,chinese:this.chinese,words:this.addWords,showDate:this.showDate};if(!this.english||!this.chinese||!this.showDate)return this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589"),void(this.loading=!1);this.dailySentenceService.post(t).subscribe(t=>{200===t.status?(this.getServerData(),this.snackBar.open("\u65b0\u589e\u6210\u529f","\u95dc\u9589"),this.reset(),this.loading=!1):(this.snackBar.open("\u65b0\u589e\u5931\u6557","\u95dc\u9589"),this.loading=!1)})}}return t.\u0275fac=function(e){return new(e||t)(g.Lb(T.a),g.Lb(p.b),g.Lb(h.a),g.Lb(n.f))},t.\u0275cmp=g.Fb({type:t,selectors:[["app-admindailysentence"]],features:[g.wb],decls:24,vars:8,consts:[[1,"admin-outer"],[1,"model-body"],[1,"table-area"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","english"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","click-td",3,"click",4,"matCellDef"],["matColumnDef","chinese"],["mat-cell","",4,"matCellDef"],["matColumnDef","showDate"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"length","pageSizeOptions"],[1,"action-area"],["class","word-area",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"click-td",3,"click"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"word-area"],[1,"confirm-text"],[2,"color","orangered"],[1,"button-area"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"form-area"],["appearance","legacy"],["matInput","",3,"ngModel","ngModelChange"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(g.Rb(0,"div",0),g.Rb(1,"div",1),g.Rb(2,"div",2),g.Rb(3,"table",3),g.Pb(4,4),g.wc(5,N,2,0,"th",5),g.wc(6,H,2,1,"td",6),g.Ob(),g.Pb(7,7),g.wc(8,Y,2,0,"th",5),g.wc(9,U,2,1,"td",8),g.Ob(),g.Pb(10,9),g.wc(11,X,2,0,"th",5),g.wc(12,J,2,1,"td",8),g.Ob(),g.Pb(13,10),g.wc(14,V,2,0,"th",5),g.wc(15,G,2,0,"td",6),g.Ob(),g.wc(16,K,1,0,"tr",11),g.wc(17,tt,1,0,"tr",12),g.wc(18,et,3,0,"tr",13),g.Qb(),g.Mb(19,"mat-paginator",14),g.Qb(),g.Qb(),g.Rb(20,"div",15),g.wc(21,it,15,0,"div",16),g.wc(22,ct,37,7,"div",16),g.wc(23,ot,23,3,"div",16),g.Qb(),g.Qb()),2&t&&(g.zb(3),g.ic("dataSource",e.dataSource),g.zb(13),g.ic("matHeaderRowDef",e.displayedColumns),g.zb(1),g.ic("matRowDefColumns",e.displayedColumns),g.zb(2),g.ic("length",e.currentPage.length)("pageSizeOptions",e.pageSizeOptions),g.zb(2),g.ic("ngIf","delete"===e.type),g.zb(1),g.ic("ngIf","add"===e.type),g.zb(1),g.ic("ngIf","edit"===e.type))},directives:[r.j,m.a,r.c,r.e,r.b,r.g,r.i,u.a,c.k,r.d,m.b,r.a,r.f,r.h,x.g,x.f,v.a,R.a,R.d,w.b,s.b,s.h,s.j,c.j],styles:[""]}),t})();var st=i("4hlr");function dt(t,e){1&t&&(g.Rb(0,"th",18),g.xc(1,"\u82f1\u6587"),g.Qb())}function rt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"td",19),g.Zb("click",function(){g.qc(t);const i=e.$implicit;return g.dc().edit(i)}),g.xc(1),g.Qb()}if(2&t){const t=e.$implicit;g.zb(1),g.yc(t.word)}}function lt(t,e){1&t&&(g.Rb(0,"th",18),g.xc(1,"\u4e2d\u6587"),g.Qb())}function ht(t,e){if(1&t&&(g.Rb(0,"td",20),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.chinese)}}function ut(t,e){1&t&&(g.Rb(0,"th",18),g.xc(1,"\u4e2d\u6587"),g.Qb())}function mt(t,e){if(1&t&&(g.Rb(0,"td",20),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.speech)}}function gt(t,e){1&t&&(g.Rb(0,"th",18),g.xc(1,"\u6642\u9593"),g.Qb())}function ft(t,e){if(1&t&&(g.Rb(0,"td",20),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.showDate)}}function pt(t,e){1&t&&(g.Rb(0,"th",18),g.xc(1,"\u64cd\u4f5c"),g.Qb())}function Rt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"td",19),g.Zb("click",function(){g.qc(t);const i=e.$implicit;return g.dc().deleteAction(i._id,i.word)}),g.xc(1,"\u522a\u9664"),g.Qb()}}function Qt(t,e){1&t&&g.Mb(0,"tr",21)}function wt(t,e){1&t&&g.Mb(0,"tr",22)}function Dt(t,e){1&t&&(g.Rb(0,"tr",23),g.Rb(1,"td",24),g.xc(2,"\u67e5\u7121\u8cc7\u6599"),g.Qb(),g.Qb())}function vt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",25),g.Rb(1,"mat-card-title"),g.xc(2,"\u522a\u9664\u55ae\u5b57"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"Delete Word"),g.Qb(),g.Rb(5,"div"),g.Rb(6,"div",26),g.xc(7,"\u78ba\u5b9a\u522a\u9664"),g.Rb(8,"span",27),g.xc(9),g.Qb(),g.xc(10,"?"),g.Qb(),g.Rb(11,"div",28),g.Rb(12,"button",29),g.Zb("click",function(){return g.qc(t),g.dc().delete()}),g.xc(13,"\u522a\u9664"),g.Qb(),g.Rb(14,"button",30),g.Zb("click",function(){return g.qc(t),g.dc().new()}),g.xc(15,"\u53d6\u6d88"),g.Qb(),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.yc(t.actionWord)}}function xt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",25),g.Rb(1,"mat-card-title"),g.xc(2,"\u65b0\u589e\u55ae\u5b57"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"New Word"),g.Qb(),g.Rb(5,"div",31),g.Rb(6,"mat-form-field",32),g.Rb(7,"mat-label"),g.xc(8,"\u82f1\u6587"),g.Qb(),g.Rb(9,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().word=e}),g.Qb(),g.Qb(),g.Rb(10,"mat-form-field",32),g.Rb(11,"mat-label"),g.xc(12,"\u4e2d\u6587"),g.Qb(),g.Rb(13,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().chinese=e}),g.Qb(),g.Qb(),g.Rb(14,"mat-form-field",32),g.Rb(15,"mat-label"),g.xc(16,"\u8a5e\u6027"),g.Qb(),g.Rb(17,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().speech=e}),g.Qb(),g.Qb(),g.Rb(18,"mat-form-field",32),g.Rb(19,"mat-label"),g.xc(20,"\u53e5\u5b50"),g.Qb(),g.Rb(21,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().sentence=e}),g.Qb(),g.Qb(),g.Rb(22,"mat-form-field",32),g.Rb(23,"mat-label"),g.xc(24,"\u4e2d\u6587\u53e5\u5b50"),g.Qb(),g.Rb(25,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().sentenceChinese=e}),g.Qb(),g.Qb(),g.Rb(26,"mat-form-field",32),g.Rb(27,"mat-label"),g.xc(28,"\u6642\u9593"),g.Qb(),g.Rb(29,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().showDate=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(30,"div",28),g.Rb(31,"button",29),g.Zb("click",function(){return g.qc(t),g.dc().post()}),g.xc(32,"\u63d0\u4ea4"),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.ic("ngModel",t.word),g.zb(4),g.ic("ngModel",t.chinese),g.zb(4),g.ic("ngModel",t.speech),g.zb(4),g.ic("ngModel",t.sentence),g.zb(4),g.ic("ngModel",t.sentenceChinese),g.zb(4),g.ic("ngModel",t.showDate)}}function yt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",25),g.Rb(1,"mat-card-title"),g.xc(2,"\u7de8\u8f2f\u55ae\u5b57"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"Edit Words"),g.Qb(),g.Rb(5,"div",31),g.Rb(6,"mat-form-field",32),g.Rb(7,"mat-label"),g.xc(8,"\u82f1\u6587"),g.Qb(),g.Rb(9,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.word=e}),g.Qb(),g.Qb(),g.Rb(10,"mat-form-field",32),g.Rb(11,"mat-label"),g.xc(12,"\u4e2d\u6587"),g.Qb(),g.Rb(13,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.chinese=e}),g.Qb(),g.Qb(),g.Rb(14,"mat-form-field",32),g.Rb(15,"mat-label"),g.xc(16,"\u8a5e\u6027"),g.Qb(),g.Rb(17,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.speech=e}),g.Qb(),g.Qb(),g.Rb(18,"mat-form-field",32),g.Rb(19,"mat-label"),g.xc(20,"\u53e5\u5b50"),g.Qb(),g.Rb(21,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.sentence=e}),g.Qb(),g.Qb(),g.Rb(22,"mat-form-field",32),g.Rb(23,"mat-label"),g.xc(24,"\u4e2d\u6587\u53e5\u5b50"),g.Qb(),g.Rb(25,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.sentenceChinese=e}),g.Qb(),g.Qb(),g.Rb(26,"mat-form-field",32),g.Rb(27,"mat-label"),g.xc(28,"\u6642\u9593"),g.Qb(),g.Rb(29,"input",33),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.showDate=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(30,"div",28),g.Rb(31,"button",29),g.Zb("click",function(){return g.qc(t),g.dc().put()}),g.xc(32,"\u63d0\u4ea4"),g.Qb(),g.Rb(33,"button",30),g.Zb("click",function(){return g.qc(t),g.dc().new()}),g.xc(34,"\u53d6\u6d88"),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.ic("ngModel",t.editData.word),g.zb(4),g.ic("ngModel",t.editData.chinese),g.zb(4),g.ic("ngModel",t.editData.speech),g.zb(4),g.ic("ngModel",t.editData.sentence),g.zb(4),g.ic("ngModel",t.editData.sentenceChinese),g.zb(4),g.ic("ngModel",t.editData.showDate)}}let Mt=(()=>{class t extends f{constructor(t,e,i,n){super(),this.dailyWordService=t,this.snackBar=e,this.store=i,this.router=n,this.type="add",this.loading=!1,this.displayedColumns=["word","chinese","speech","showDate","action"]}ngOnInit(){this.store.getUser().then(()=>{(this.store&&!this.store.user||this.store.user&&"admin"!==this.store.user.level)&&(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589"))}),this.store.token||(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589")),this.showDate=`${(new Date).getFullYear()}/${(new Date).getMonth()+1}/${(new Date).getDate()}`,this.getServerData(),super.ngOnInit()}edit(t){this.editData=Object.assign({},t),this.type="edit"}new(){this.type="add"}put(){if(this.loading=!0,this.editData)return this.editData.word&&this.editData.speech&&this.editData.chinese&&this.editData.sentence&&this.editData.sentenceChinese&&this.editData._id?void this.dailyWordService.put(this.editData._id,{word:this.editData.word,chinese:this.editData.chinese,speech:this.editData.speech,sentence:this.editData.sentence,sentenceChinese:this.editData.sentenceChinese,showDate:this.editData.showDate}).subscribe(t=>{200===t.status?(this.getServerData(),this.snackBar.open("\u7de8\u8f2f\u6210\u529f","\u95dc\u9589"),this.type="add",this.loading=!1):(this.snackBar.open("\u7de8\u8f2f\u5931\u6557","\u95dc\u9589"),this.loading=!1)}):(this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589"),void(this.loading=!1))}getServerData(){this.loading=!0,this.dailyWordService.getAll().subscribe(t=>{null!==t.body&&null!==t.headers?(this.paginator._intl.itemsPerPageLabel="\u6bcf\u9801\u500b\u6578:",this.currentPage.length=t.body.totalSize,this.ELEMENT_DATA=t.body.data,this.dataSource=new r.k(this.ELEMENT_DATA),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.loading=!1):this.snackBar.open("\u7372\u53d6\u529f\u80fd\u8cc7\u6599\u5931\u6557","\u95dc\u9589")})}deleteAction(t,e){this.type="delete",this.actionWord=e,this.actionId=t}delete(){this.loading=!0,this.dailyWordService.delete(this.actionId||"").subscribe(t=>{null!==t.body&&null!==t.headers?(this.getServerData(),this.snackBar.open("\u522a\u9664\u6210\u529f","\u95dc\u9589"),this.type="add",this.loading=!1):this.snackBar.open("\u7372\u53d6\u529f\u80fd\u8cc7\u6599\u5931\u6557","\u95dc\u9589")})}reset(){this.word="",this.chinese="",this.speech="",this.sentence="",this.sentenceChinese="",this.showDate=`${(new Date).getFullYear()}/${(new Date).getMonth()+1}/${(new Date).getDate()}`}post(){this.loading=!0;const t={word:this.word,chinese:this.chinese,sentence:this.sentence,speech:this.speech,sentenceChinese:this.sentenceChinese,showDate:this.showDate};if(!(this.word&&this.chinese&&this.speech&&this.sentence&&this.sentenceChinese&&this.showDate))return this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589"),void(this.loading=!1);this.dailyWordService.post(t).subscribe(t=>{200===t.status?(this.getServerData(),this.snackBar.open("\u65b0\u589e\u6210\u529f","\u95dc\u9589"),this.reset(),this.loading=!1):(this.snackBar.open("\u65b0\u589e\u5931\u6557","\u95dc\u9589"),this.loading=!1)})}}return t.\u0275fac=function(e){return new(e||t)(g.Lb(st.a),g.Lb(p.b),g.Lb(h.a),g.Lb(n.f))},t.\u0275cmp=g.Fb({type:t,selectors:[["app-admindailyword"]],features:[g.wb],decls:27,vars:8,consts:[[1,"admin-outer"],[1,"model-body"],[1,"table-area"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","word"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","click-td",3,"click",4,"matCellDef"],["matColumnDef","chinese"],["mat-cell","",4,"matCellDef"],["matColumnDef","speech"],["matColumnDef","showDate"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"length","pageSizeOptions"],[1,"action-area"],["class","word-area",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"click-td",3,"click"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"word-area"],[1,"confirm-text"],[2,"color","orangered"],[1,"button-area"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"form-area"],["appearance","legacy"],["matInput","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(g.Rb(0,"div",0),g.Rb(1,"div",1),g.Rb(2,"div",2),g.Rb(3,"table",3),g.Pb(4,4),g.wc(5,dt,2,0,"th",5),g.wc(6,rt,2,1,"td",6),g.Ob(),g.Pb(7,7),g.wc(8,lt,2,0,"th",5),g.wc(9,ht,2,1,"td",8),g.Ob(),g.Pb(10,9),g.wc(11,ut,2,0,"th",5),g.wc(12,mt,2,1,"td",8),g.Ob(),g.Pb(13,10),g.wc(14,gt,2,0,"th",5),g.wc(15,ft,2,1,"td",8),g.Ob(),g.Pb(16,11),g.wc(17,pt,2,0,"th",5),g.wc(18,Rt,2,0,"td",6),g.Ob(),g.wc(19,Qt,1,0,"tr",12),g.wc(20,wt,1,0,"tr",13),g.wc(21,Dt,3,0,"tr",14),g.Qb(),g.Mb(22,"mat-paginator",15),g.Qb(),g.Qb(),g.Rb(23,"div",16),g.wc(24,vt,16,1,"div",17),g.wc(25,xt,33,6,"div",17),g.wc(26,yt,35,6,"div",17),g.Qb(),g.Qb()),2&t&&(g.zb(3),g.ic("dataSource",e.dataSource),g.zb(16),g.ic("matHeaderRowDef",e.displayedColumns),g.zb(1),g.ic("matRowDefColumns",e.displayedColumns),g.zb(2),g.ic("length",e.currentPage.length)("pageSizeOptions",e.pageSizeOptions),g.zb(2),g.ic("ngIf","delete"===e.type),g.zb(1),g.ic("ngIf","add"===e.type),g.zb(1),g.ic("ngIf","edit"===e.type))},directives:[r.j,m.a,r.c,r.e,r.b,r.g,r.i,u.a,c.k,r.d,m.b,r.a,r.f,r.h,x.g,x.f,v.a,R.a,R.d,w.b,s.b,s.h,s.j],styles:[""]}),t})();var Ct=i("d5k8");function kt(t,e){1&t&&(g.Rb(0,"th",16),g.xc(1,"\u6a19\u984c"),g.Qb())}function zt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"td",17),g.Zb("click",function(){g.qc(t);const i=e.$implicit;return g.dc().edit(i)}),g.xc(1),g.Qb()}if(2&t){const t=e.$implicit;g.zb(1),g.yc(t.title)}}function St(t,e){1&t&&(g.Rb(0,"th",16),g.xc(1,"\u6642\u9593"),g.Qb())}function Zt(t,e){if(1&t&&(g.Rb(0,"td",18),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.yc(t.showDate)}}function qt(t,e){1&t&&(g.Rb(0,"th",16),g.xc(1,"\u64cd\u4f5c"),g.Qb())}function Bt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"td",17),g.Zb("click",function(){g.qc(t);const i=e.$implicit;return g.dc().deleteAction(i._id,i.title)}),g.xc(1,"\u522a\u9664"),g.Qb()}}function Ot(t,e){1&t&&g.Mb(0,"tr",19)}function It(t,e){1&t&&g.Mb(0,"tr",20)}function Lt(t,e){1&t&&(g.Rb(0,"tr",21),g.Rb(1,"td",22),g.xc(2,"\u67e5\u7121\u8cc7\u6599"),g.Qb(),g.Qb())}function Pt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",23),g.Rb(1,"mat-card-title"),g.xc(2,"\u522a\u9664\u53e5\u5b50"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"Delete Article"),g.Qb(),g.Rb(5,"div"),g.Rb(6,"div",24),g.xc(7,"\u78ba\u5b9a\u522a\u9664"),g.Rb(8,"span",25),g.xc(9),g.Qb(),g.xc(10,"?"),g.Qb(),g.Rb(11,"div",26),g.Rb(12,"button",27),g.Zb("click",function(){return g.qc(t),g.dc().delete()}),g.xc(13,"\u522a\u9664"),g.Qb(),g.Rb(14,"button",28),g.Zb("click",function(){return g.qc(t),g.dc().new()}),g.xc(15,"\u53d6\u6d88"),g.Qb(),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.yc(t.actionTitle)}}function $t(t,e){if(1&t&&(g.Rb(0,"div"),g.xc(1),g.Qb()),2&t){const t=e.$implicit;g.zb(1),g.Ac(" \u82f1\u6587:",t.english," \u4e2d\u6587:",t.chinese," \u8a5e\u6027:",t.speech," ")}}function At(t,e){if(1&t&&(g.Rb(0,"div"),g.xc(1," \u65b0\u589e\u55ae\u5b57"),g.wc(2,$t,2,3,"div",33),g.Qb()),2&t){const t=g.dc(2);g.zb(2),g.ic("ngForOf",t.addWords)}}function Et(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",23),g.Rb(1,"mat-card-title"),g.xc(2,"\u65b0\u589e\u53e5\u5b50"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"New Article"),g.Qb(),g.Rb(5,"div",29),g.Rb(6,"mat-form-field",30),g.Rb(7,"mat-label"),g.xc(8,"\u6a19\u984c"),g.Qb(),g.Rb(9,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().title=e}),g.Qb(),g.Qb(),g.Rb(10,"mat-form-field",30),g.Rb(11,"mat-label"),g.xc(12,"\u82f1\u6587"),g.Qb(),g.Rb(13,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().english=e}),g.Qb(),g.Qb(),g.Rb(14,"mat-form-field",30),g.Rb(15,"mat-label"),g.xc(16,"\u4e2d\u6587"),g.Qb(),g.Rb(17,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().chinese=e}),g.Qb(),g.Qb(),g.Rb(18,"mat-form-field",30),g.Rb(19,"mat-label"),g.xc(20,"\u6642\u9593"),g.Qb(),g.Rb(21,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().showDate=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(22,"div",29),g.Rb(23,"mat-form-field",30),g.Rb(24,"mat-label"),g.xc(25,"\u55ae\u5b57\u82f1\u6587"),g.Qb(),g.Rb(26,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().wordE=e}),g.Qb(),g.Qb(),g.Rb(27,"mat-form-field",30),g.Rb(28,"mat-label"),g.xc(29,"\u55ae\u5b57\u4e2d\u6587"),g.Qb(),g.Rb(30,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().wordC=e}),g.Qb(),g.Qb(),g.Rb(31,"mat-form-field",30),g.Rb(32,"mat-label"),g.xc(33,"\u55ae\u5b57\u97f3\u6a19"),g.Qb(),g.Rb(34,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().wordS=e}),g.Qb(),g.Qb(),g.Qb(),g.wc(35,At,3,1,"div",32),g.Rb(36,"div",26),g.Rb(37,"button",27),g.Zb("click",function(){return g.qc(t),g.dc().addWord()}),g.xc(38,"\u65b0\u589e\u55ae\u5b57"),g.Qb(),g.Rb(39,"button",27),g.Zb("click",function(){return g.qc(t),g.dc().post()}),g.xc(40,"\u63d0\u4ea4"),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.ic("ngModel",t.title),g.zb(4),g.ic("ngModel",t.english),g.zb(4),g.ic("ngModel",t.chinese),g.zb(4),g.ic("ngModel",t.showDate),g.zb(5),g.ic("ngModel",t.wordE),g.zb(4),g.ic("ngModel",t.wordC),g.zb(4),g.ic("ngModel",t.wordS),g.zb(1),g.ic("ngIf",t.addWords.length)}}function Wt(t,e){if(1&t){const t=g.Sb();g.Rb(0,"div",23),g.Rb(1,"mat-card-title"),g.xc(2,"\u7de8\u8f2f\u53e5\u5b50"),g.Qb(),g.Rb(3,"mat-card-subtitle"),g.xc(4,"Edit Article"),g.Qb(),g.Rb(5,"div",29),g.Rb(6,"mat-form-field",30),g.Rb(7,"mat-label"),g.xc(8,"\u6a19\u984c"),g.Qb(),g.Rb(9,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.title=e}),g.Qb(),g.Qb(),g.Rb(10,"mat-form-field",30),g.Rb(11,"mat-label"),g.xc(12,"\u82f1\u6587"),g.Qb(),g.Rb(13,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.english=e}),g.Qb(),g.Qb(),g.Rb(14,"mat-form-field",30),g.Rb(15,"mat-label"),g.xc(16,"\u4e2d\u6587"),g.Qb(),g.Rb(17,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.chinese=e}),g.Qb(),g.Qb(),g.Rb(18,"mat-form-field",30),g.Rb(19,"mat-label"),g.xc(20,"\u6642\u9593"),g.Qb(),g.Rb(21,"input",31),g.Zb("ngModelChange",function(e){return g.qc(t),g.dc().editData.showDate=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(22,"div",26),g.Rb(23,"button",27),g.Zb("click",function(){return g.qc(t),g.dc().put()}),g.xc(24,"\u63d0\u4ea4"),g.Qb(),g.Rb(25,"button",28),g.Zb("click",function(){return g.qc(t),g.dc().new()}),g.xc(26,"\u53d6\u6d88"),g.Qb(),g.Qb(),g.Qb()}if(2&t){const t=g.dc();g.zb(9),g.ic("ngModel",t.editData.title),g.zb(4),g.ic("ngModel",t.editData.english),g.zb(4),g.ic("ngModel",t.editData.chinese),g.zb(4),g.ic("ngModel",t.editData.showDate)}}function Ft(t,e){1&t&&(g.Rb(0,"div",3),g.Rb(1,"div",4),g.Rb(2,"a",5),g.xc(3,"\u55ae\u5b57\u7ba1\u7406 "),g.Rb(4,"span",6),g.xc(5," chevron_right "),g.Qb(),g.Qb(),g.Rb(6,"a",7),g.xc(7,"\u6bcf\u65e5\u55ae\u5b57\u7ba1\u7406 "),g.Rb(8,"span",6),g.xc(9," chevron_right "),g.Qb(),g.Qb(),g.Rb(10,"a",8),g.xc(11,"\u6bcf\u65e5\u6587\u7ae0\u7ba1\u7406 "),g.Rb(12,"span",6),g.xc(13," chevron_right "),g.Qb(),g.Qb(),g.Rb(14,"a",9),g.xc(15,"\u6bcf\u65e5\u53e5\u5b50\u7ba1\u7406 "),g.Rb(16,"span",6),g.xc(17," chevron_right "),g.Qb(),g.Qb(),g.Qb(),g.Qb())}function _t(t,e){1&t&&(g.Rb(0,"div",10),g.Rb(1,"div",11),g.Rb(2,"div",12),g.Mb(3,"div",13),g.Mb(4,"div",14),g.Qb(),g.Qb(),g.Qb())}const jt=[{path:"adminword",component:j},{path:"admindailysentence",component:bt},{path:"admindailyword",component:Mt},{path:"admindailyarticle",component:(()=>{class t extends f{constructor(t,e,i,n){super(),this.dailyArticleService=t,this.snackBar=e,this.store=i,this.router=n,this.type="add",this.loading=!1,this.addWords=[],this.displayedColumns=["title","showDate","action"]}ngOnInit(){this.store.getUser().then(()=>{(this.store&&!this.store.user||this.store.user&&"admin"!==this.store.user.level)&&(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589"))}),this.store.token||(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589")),this.showDate=`${(new Date).getFullYear()}/${(new Date).getMonth()+1}/${(new Date).getDate()}`,this.getServerData(),super.ngOnInit()}edit(t){this.editData=Object.assign({},t),this.type="edit"}addWord(){this.wordE&&this.wordC&&this.wordS?(this.addWords.push({word:this.wordE,chinese:this.wordC,speech:this.wordS}),this.wordE="",this.wordC="",this.wordS="",this.snackBar.open("\u65b0\u589e\u6210\u529f","\u95dc\u9589")):this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589")}new(){this.type="add"}put(){if(this.loading=!0,this.editData)return this.editData.english&&this.editData.title&&this.editData.chinese&&this.editData._id?void this.dailyArticleService.put(this.editData._id,{title:this.editData.title,english:this.editData.english,chinese:this.editData.chinese,words:this.editData.words,showDate:this.editData.showDate}).subscribe(t=>{200===t.status?(this.getServerData(),this.snackBar.open("\u7de8\u8f2f\u6210\u529f","\u95dc\u9589"),this.type="add",this.loading=!1):(this.snackBar.open("\u7de8\u8f2f\u5931\u6557","\u95dc\u9589"),this.loading=!1)}):(this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589"),void(this.loading=!1))}getServerData(){this.loading=!0,this.dailyArticleService.getAll().subscribe(t=>{null!==t.body&&null!==t.headers?(this.paginator._intl.itemsPerPageLabel="\u6bcf\u9801\u500b\u6578:",this.currentPage.length=t.body.totalSize,this.ELEMENT_DATA=t.body.data,this.dataSource=new r.k(this.ELEMENT_DATA),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.loading=!1):this.snackBar.open("\u7372\u53d6\u529f\u80fd\u8cc7\u6599\u5931\u6557","\u95dc\u9589")})}deleteAction(t,e){this.type="delete",this.actionId=t,this.actionTitle=e}delete(){this.loading=!0,this.dailyArticleService.delete(this.actionId||"").subscribe(t=>{null!==t.body&&null!==t.headers?(this.getServerData(),this.snackBar.open("\u522a\u9664\u6210\u529f","\u95dc\u9589"),this.type="add",this.loading=!1):this.snackBar.open("\u7372\u53d6\u529f\u80fd\u8cc7\u6599\u5931\u6557","\u95dc\u9589")})}reset(){this.title="",this.english="",this.chinese="",this.wordC="",this.wordE="",this.wordS="",this.addWords=[],this.showDate=`${(new Date).getFullYear()}/${(new Date).getMonth()+1}/${(new Date).getDate()}`}post(){this.loading=!0;const t={title:this.title,english:this.english,chinese:this.chinese,words:this.addWords,showDate:this.showDate};if(!(this.english&&this.title&&this.chinese&&this.showDate))return this.snackBar.open("\u7f3a\u5c11\u8a0a\u606f","\u95dc\u9589"),void(this.loading=!1);this.dailyArticleService.post(t).subscribe(t=>{200===t.status?(this.getServerData(),this.snackBar.open("\u65b0\u589e\u6210\u529f","\u95dc\u9589"),this.reset(),this.loading=!1):(this.snackBar.open("\u65b0\u589e\u5931\u6557","\u95dc\u9589"),this.loading=!1)})}}return t.\u0275fac=function(e){return new(e||t)(g.Lb(Ct.a),g.Lb(p.b),g.Lb(h.a),g.Lb(n.f))},t.\u0275cmp=g.Fb({type:t,selectors:[["app-admindailyarticle"]],features:[g.wb],decls:21,vars:8,consts:[[1,"admin-outer"],[1,"model-body"],[1,"table-area"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","click-td",3,"click",4,"matCellDef"],["matColumnDef","showDate"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"length","pageSizeOptions"],[1,"action-area"],["class","word-area",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"click-td",3,"click"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"word-area"],[1,"confirm-text"],[2,"color","orangered"],[1,"button-area"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"form-area"],["appearance","legacy"],["matInput","",3,"ngModel","ngModelChange"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(g.Rb(0,"div",0),g.Rb(1,"div",1),g.Rb(2,"div",2),g.Rb(3,"table",3),g.Pb(4,4),g.wc(5,kt,2,0,"th",5),g.wc(6,zt,2,1,"td",6),g.Ob(),g.Pb(7,7),g.wc(8,St,2,0,"th",5),g.wc(9,Zt,2,1,"td",8),g.Ob(),g.Pb(10,9),g.wc(11,qt,2,0,"th",5),g.wc(12,Bt,2,0,"td",6),g.Ob(),g.wc(13,Ot,1,0,"tr",10),g.wc(14,It,1,0,"tr",11),g.wc(15,Lt,3,0,"tr",12),g.Qb(),g.Mb(16,"mat-paginator",13),g.Qb(),g.Qb(),g.Rb(17,"div",14),g.wc(18,Pt,16,1,"div",15),g.wc(19,Et,41,8,"div",15),g.wc(20,Wt,27,4,"div",15),g.Qb(),g.Qb()),2&t&&(g.zb(3),g.ic("dataSource",e.dataSource),g.zb(10),g.ic("matHeaderRowDef",e.displayedColumns),g.zb(1),g.ic("matRowDefColumns",e.displayedColumns),g.zb(2),g.ic("length",e.currentPage.length)("pageSizeOptions",e.pageSizeOptions),g.zb(2),g.ic("ngIf","delete"===e.type),g.zb(1),g.ic("ngIf","add"===e.type),g.zb(1),g.ic("ngIf","edit"===e.type))},directives:[r.j,m.a,r.c,r.e,r.b,r.g,r.i,u.a,c.k,r.d,m.b,r.a,r.f,r.h,x.g,x.f,v.a,R.a,R.d,w.b,s.b,s.h,s.j,c.j],styles:[""]}),t})()},{path:"admin",component:(()=>{class t{constructor(t,e,i){this.snackBar=t,this.store=e,this.router=i,this.loading=!1}ngOnInit(){this.loading=!0,this.store.getUser().then(()=>{(this.store&&!this.store.user||this.store.user&&"admin"!==this.store.user.level)&&(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589")),this.loading=!1}),this.store.token||(this.router.navigate(["/dashboard"]),this.snackBar.open("\u7121\u7ba1\u7406\u54e1\u6b0a\u9650","\u95dc\u9589"))}}return t.\u0275fac=function(e){return new(e||t)(g.Lb(p.b),g.Lb(h.a),g.Lb(n.f))},t.\u0275cmp=g.Fb({type:t,selectors:[["app-admin"]],decls:3,vars:2,consts:[[1,"admin-outer"],["class","model-body",4,"ngIf"],["class","loading",4,"ngIf"],[1,"model-body"],[1,"link"],["routerLink","/adminword"],[1,"material-icons"],["routerLink","/admindailyword"],["routerLink","/admindailyarticle"],["routerLink","/admindailysentence"],[1,"loading"],[1,"preloader"],[1,"spinner"],[1,"double-bounce1"],[1,"double-bounce2"]],template:function(t,e){1&t&&(g.Rb(0,"div",0),g.wc(1,Ft,18,0,"div",1),g.wc(2,_t,5,0,"div",2),g.Qb()),2&t&&(g.zb(1),g.ic("ngIf",!e.loading),g.zb(1),g.ic("ngIf",e.loading))},directives:[c.k,n.h],styles:[".link[_ngcontent-%COMP%]{display:flex;flex-direction:column}.link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px 10px}.link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fbfbfb}"]}),t})()}];let Tt=(()=>{class t{}return t.\u0275mod=g.Jb({type:t}),t.\u0275inj=g.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[c.c,n.i.forChild(jt),o.a,a.b,s.d,s.k,d.a,b.p]]}),t})()}}]);